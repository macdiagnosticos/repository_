var siq_log=function(b){if(location.href.indexOf("siqdebug=1")>-1&&typeof console!="undefined"&&console.log){var c=new Date();var d=c.getFullYear()+"-"+c.getMonth()+"-"+c.getDate()+"T"+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"."+c.getMilliseconds();console.log("["+d+"] siq_container_pub: "+b)}};SiqContainer=function(a){if(!window.siqConfig||!window.siqConfig.engineKey){return}siq_log("SiqContainer.constructor():"+a);window.siqConfig.version=window.siqConfig.version||"2.2.51";window.siq_version=window.siqConfig.version;window.siq_engine_key=window.siqConfig.engineKey;window.siqConfig.baseUrl=window.siqConfig.baseUrl.replace(/^(https?:)?\/\/(pub|static)\.searchiq\.(xyz|co)/,"//static.searchiq.co");window.siq_baseUrl=window.siqConfig.baseUrl;window.siq_api_endpoint=window.siq_baseUrl.replace(/^(https?:)?\/\/(pub|static)\.searchiq\.(xyz|co)/,"//api.searchiq.co")+"api/";window.siq_cached_api_endpoint=window.siq_api_endpoint;SiqContainer.start()};SiqContainer.start=function(){siq_log("SiqContainer.start()");SiqContainer.loadSettings(function(){if(SiqContainer.isSearchPage()){siq_log("Search page detected load all js");SiqContainer.loadTargetJs()}else{var a=function(){return SiqContainer.pageHasSearchBox()};var b=function(){SiqContainer.loadTargetJs()};SiqContainer.waitAndRun(a,b,200,20*1000)}})};SiqContainer.pageHasSearchBox=function(){var b=false;var a=document.getElementsByTagName("input");if(typeof a!="undefined"&&a!=null&&a.length>0){siq_log("Number of input elements on page:"+a.length);for(i=0;i<a.length;i++){if((a[i].type==="text"||a[i].type==="search")&&(!a[i].id||a[i].id!="adminbar-search")){b=true;break}}}if(b){siq_log("Atleast one input[type='text'] found")}else{siq_log("No input[type='text'] found")}return b};SiqContainer.loadSettings=function(b){siq_log("loadSettings(): loading settings...");window.SIQ_settings_loaded=function(c){siq_log("loadSettings(): search engine settings has been loaded");window.SiqConfig=c;SiqConfig.jsVersion=siqConfig.version=SiqConfig.jsVersion||siqConfig.version;b()};var a=siq_cached_api_endpoint+"searchEngines/"+siq_engine_key+"/settings?callback=SIQ_settings_loaded";SiqContainer.loadJS({src:a})};SiqContainer.loadTargetJs=function(){SiqContainer.loadJQuery();var a=SiqContainer.getScriptsToLoad(),b;for(b=0;b<a.length;b++){SiqContainer.loadJS(a[b])}};SiqContainer.loadJS=function(c){try{var a=document.createElement("SCRIPT");if(c.src){a.src=c.src}else{a.type="text/javascript";a.appendChild(document.createTextNode(c.content))}document.getElementsByTagName("head")[0].appendChild(a)}catch(b){siq_log("Cannot load script. SRC: "+c.src+". CONTENT: "+c.content)}};(function(W){var f=W.$LAB,j="UseLocalXHR",g="AlwaysPreserveOrder",p="AllowDuplicates",V="CacheBust",T="BasePath",R=/^[^?#]*\//.exec(location.href)[0],Q=/^\w+\:\/\/\/?[^\/]+/.exec(R)[0],X=document.head||document.getElementsByTagName("head"),e=(W.opera&&Object.prototype.toString.call(W.opera)=="[object Opera]")||("MozAppearance" in document.documentElement.style),U=document.createElement("script"),w=typeof U.preload=="boolean",S=w||(U.readyState&&U.readyState=="uninitialized"),n=!S&&U.async===true,d=!S&&!n&&!e;function m(o){return Object.prototype.toString.call(o)=="[object Function]"}function l(o){return Object.prototype.toString.call(o)=="[object Array]"}function c(q,r){var o=/^\w+\:\/\//;if(/^\/\/\/?/.test(q)){q=location.protocol+q}else{if(!o.test(q)&&q.charAt(0)!="/"){q=(r||"")+q}}return o.test(q)?q:((q.charAt(0)=="/"?Q:R)+q)}function x(q,r){for(var o in q){if(q.hasOwnProperty(o)){r[o]=q[o]}}return r}function b(q){var r=false;for(var o=0;o<q.scripts.length;o++){if(q.scripts[o].ready&&q.scripts[o].exec_trigger){r=true;q.scripts[o].exec_trigger();q.scripts[o].exec_trigger=null}}return r}function v(q,s,o,r){q.onload=q.onreadystatechange=function(){if((q.readyState&&q.readyState!="complete"&&q.readyState!="loaded")||s[o]){return}q.onload=q.onreadystatechange=null;r()}}function k(o){o.ready=o.finished=true;for(var q=0;q<o.finished_listeners.length;q++){o.finished_listeners[q]()}o.ready_listeners=[];o.finished_listeners=[]}function a(t,r,s,q,o){setTimeout(function(){var y,z=r.real_src,u;if("item" in X){if(!X[0]){setTimeout(arguments.callee,25);return}X=X[0]}y=document.createElement("script");if(r.type){y.type=r.type}if(r.charset){y.charset=r.charset}if(o){if(S){s.elem=y;if(w){y.preload=true;y.onpreload=q}else{y.onreadystatechange=function(){if(y.readyState=="loaded"){q()}}}y.src=z}else{if(o&&z.indexOf(Q)==0&&t[j]){u=new XMLHttpRequest();u.onreadystatechange=function(){if(u.readyState==4){u.onreadystatechange=function(){};s.text=u.responseText+"\n//@ sourceURL="+z;q()}};u.open("GET",z);u.send()}else{y.type="text/cache-script";v(y,s,"ready",function(){X.removeChild(y);q()});y.src=z;X.insertBefore(y,X.firstChild)}}}else{if(n){y.async=false;v(y,s,"finished",q);y.src=z;X.insertBefore(y,X.firstChild)}else{v(y,s,"finished",q);y.src=z;X.insertBefore(y,X.firstChild)}}},0)}function h(){var q={},u=S||d,z=[],y={},o;q[j]=true;q[g]=false;q[p]=false;q[V]=false;q[T]="";function t(B,E,A){var D;function C(){if(D!=null){D=null;k(A)}}if(y[E.src].finished){return}if(!B[p]){y[E.src].finished=true}D=A.elem||document.createElement("script");if(E.type){D.type=E.type}if(E.charset){D.charset=E.charset}v(D,A,"finished",C);if(A.elem){A.elem=null}else{if(A.text){D.onload=D.onreadystatechange=null;D.text=A.text}else{D.src=E.real_src}}X.insertBefore(D,X.firstChild);if(A.text){C()}}function s(H,A,G,E){var F,D,C=function(){A.ready_cb(A,function(){t(H,A,F)})},B=function(){A.finished_cb(A,G)};A.src=c(A.src,H[T]);A.real_src=A.src+(H[V]?((/\?.*$/.test(A.src)?"&_":"?_")+~~(Math.random()*1000000000)+"="):"");if(!y[A.src]){y[A.src]={items:[],finished:false}}D=y[A.src].items;if(H[p]||D.length==0){F=D[D.length]={ready:false,finished:false,ready_listeners:[C],finished_listeners:[B]};a(H,A,F,((E)?function(){F.ready=true;for(var I=0;I<F.ready_listeners.length;I++){F.ready_listeners[I]()}F.ready_listeners=[]}:function(){k(F)}),E)}else{F=D[0];if(F.finished){B()}else{F.finished_listeners.push(B)}}}function r(){var H,G=x(q,{}),F=[],E=0,J=false,D;function C(K,L){K.ready=true;K.exec_trigger=L;I()}function B(L,M){L.ready=L.finished=true;L.exec_trigger=null;for(var K=0;K<M.scripts.length;K++){if(!M.scripts[K].finished){return}}M.finished=true;I()}function I(){while(E<F.length){if(m(F[E])){try{F[E++]()}catch(K){siq_log(K)}continue}else{if(!F[E].finished){if(b(F[E])){continue}break}}E++}if(E==F.length){J=false;D=false}}function A(){if(!D||!D.scripts){F.push(D={scripts:[],finished:true})}}H={script:function(){for(var K=0;K<arguments.length;K++){(function(M,O){var L;if(!l(M)){O=[M]}for(var N=0;N<O.length;N++){A();M=O[N];if(m(M)){M=M()}if(!M){continue}if(l(M)){L=[].slice.call(M);L.unshift(N,1);[].splice.apply(O,L);N--;continue}if(typeof M=="string"){M={src:M}}M=x(M,{ready:false,ready_cb:C,finished:false,finished_cb:B});D.finished=false;D.scripts.push(M);s(G,M,D,(u&&J));J=true;if(G[g]){H.wait()}}})(arguments[K],arguments[K])}return H},wait:function(){if(arguments.length>0){for(var K=0;K<arguments.length;K++){F.push(arguments[K])}D=F[F.length-1]}else{D=false}I();return H}};return{script:H.script,wait:H.wait,setOptions:function(K){x(K,G);return H}}}o={setGlobalDefaults:function(A){x(A,q);return o},setOptions:function(){return r().setOptions.apply(null,arguments)},script:function(){return r().script.apply(null,arguments)},wait:function(){return r().wait.apply(null,arguments)},queueScript:function(){z[z.length]={type:"script",args:[].slice.call(arguments)};return o},queueWait:function(){z[z.length]={type:"wait",args:[].slice.call(arguments)};return o},runQueue:function(){var B=o,D=z.length,A=D,C;for(;--A>=0;){C=z.shift();B=B[C.type].apply(null,C.args)}return B},noConflict:function(){W.$LAB=f;return o},sandbox:function(){return h()}};return o}W.$LAB=h();(function(q,r,o){if(document.readyState==null&&document[q]){document.readyState="loading";document[q](r,o=function(){document.removeEventListener(r,o,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);SiqContainer.MYLAB=$LAB.noConflict();SiqContainer.isJQueryValid=function(b){var a=b&&b.fn&&b.fn.jquery&&SiqContainer.versionCompare(b.fn.jquery,">=","1.9.1")&&typeof b.ajax!=="undefined"&&typeof b.getJSON!=="undefined";return a};SiqContainer.versionCompare=function(v1,comparator,v2){comparator=comparator=="="?"==":comparator;var v1parts=v1.split("."),v2parts=v2.split(".");var maxLen=Math.max(v1parts.length,v2parts.length);var part1,part2;var cmp=0;for(var i=0;i<maxLen&&!cmp;i++){part1=parseInt(v1parts[i],10)||0;part2=parseInt(v2parts[i],10)||0;if(part1<part2){cmp=1}if(part1>part2){cmp=-1}}return eval("0"+comparator+cmp)};SiqContainer.getLogger=function(a){return function(d){if(location.href.indexOf("siqdebug=1")>-1&&typeof console!="undefined"&&console.log){var b=new Date();var c=b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()+"T"+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+"."+b.getMilliseconds();console.log("["+c+"] "+a+": "+d)}}};SiqContainer.loadJQuery=function(b){siq_log("loadJquery():start");if(SiqContainer.isJQueryValid(window.jQuery)){window.siq_S=window.jQuery;window.siq_ajax=siq_S.ajax;if(typeof b=="function"){b()}}else{var a="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js";SiqContainer.MYLAB.script(a).wait(function(){if(SiqContainer.isJQueryValid(window.jQuery)){window.siq_S=window.jQuery.noConflict(true);window.siq_ajax=siq_S.ajax;if(typeof b=="function"){b()}}})}};SiqContainer.ismsie=function(){if(navigator.userAgent.match(/MSIE ([0-9]+)\./)){return true}return false};SiqContainer.msieversion=function(){if(navigator.userAgent.match(/MSIE ([0-9]+)\./)){return RegExp.$1}return false};SiqContainer.isMobile=function(){var a=navigator.userAgent;var c=new RegExp("(android|bb\\d+|meego).+mobile|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk","i");var b=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-","i");return c.test(a)||b.test(a.length>=4?a.substring(0,4):a)};SiqContainer.waitAndRun=function(b,a,g,d,e){if(b()){siq_log("No need to wait");return a()}var f;var c=setInterval(function(){if(b()){siq_log("Check passed");if(f){clearTimeout(f);f=null}clearInterval(c);c=null;return a()}if(!f&&document.readyState==="complete"){siq_log("Page load complete");f=setTimeout(function(){if(c){clearInterval(c);c=null;siq_log("Kill the waitAndRun timer by timeout")}if(typeof e==="function"){e()}},d)}},g)};SiqContainer.getScriptsToLoad=function(){if(!window.SiqConfig){throw new Error("SiqConfig is not set")}var a=[];var d=siq_baseUrl+"js/"+SiqConfig.jsVersion+"/";a.push({src:d+"sa.js"});if(SiqContainer.isSearchPage()||!SiqConfig.disableAutocomplete||siqConfig.preview){a.push({src:d+"autocomplete.js"})}if(SiqContainer.isSearchPage()||siqConfig.preview){a.push({src:d+"search-results.js"})}if(SiqConfig.mobileEnabled&&SiqContainer.isMobile()){a.push({src:d+"siq-mobile.js"})}if(SiqConfig.scripts instanceof Array&&SiqConfig.scripts.length>0){for(c=0;c<SiqConfig.scripts.length;c++){var b=SiqConfig.scripts[c];if(/^((https?:)?\/\/)[^\n]+$/.test(b)&&!/##BASEURL##/.test(b)){a.push({src:b})}else{if(!/##BASEURL##/.test(b)){a.push({content:b})}}}}if(SiqConfig.rawScripts&&SiqConfig.rawScripts.length>0){for(var c=0;c<SiqConfig.rawScripts.length;c++){a.push({content:SiqConfig.rawScripts[c]})}}return a};SiqContainer.isSearchPage=function(){var a=location.href.replace(/https:\/\/(www\.)?([^$]+)$/ig,"$2");return !!SiqConfig.resultPageUrl&&(a.indexOf(SiqConfig.resultPageUrl.replace(/https:\/\/(www\.)?([^$]+)$/ig,"$2"))>=0||SiqContainer.urlMatchesTemplate(a,SiqConfig.resultPageUrl))};SiqContainer.urlMatchesTemplate=function(c,b){if(b.indexOf("*")<0){return false}var a=new RegExp(b.replace(/^https?:\/\/(www\.)?/i,"").replace(/\\/g,"\\\\").replace(/\(\[\.\[\(\^\$\]\)/g,"\\$1").replace(/\*/g,"[^/]*").replace(/\/$/,""));return a.test(c)};(function(){new SiqContainer("siq-container")})();